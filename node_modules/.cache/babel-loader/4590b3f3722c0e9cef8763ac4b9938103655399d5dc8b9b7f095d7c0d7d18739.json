{"ast":null,"code":"import _objectSpread from\"/Users/zainabanidomi/Desktop/React-Task/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/zainabanidomi/Desktop/React-Task/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{Link}from\"react-router-dom\";import{setMovies}from'../redux/actions/moviesActions';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export function Movies(){var movies=useSelector(function(state){return state.allMovies.movies;});var dispatch=useDispatch();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),active=_useState2[0],setActive=_useState2[1];var getMoviesState=function getMoviesState(fromWeek){var selectedProps=fromWeek===true?'week':'day';console.log(selectedProps);var requestOptions={method:'GET',redirect:'follow'};fetch(\"https://api.themoviedb.org/3/trending/movie/\".concat(selectedProps,\"?api_key=a971131533ecd1f4d0cb562ab92a94ef\"),requestOptions).then(function(response){return response.json();}).then(function(data){dispatch(setMovies(data.results));}).catch(function(error){return console.log('error',error);});};useEffect(function(){getMoviesState(active);console.log(active);},[dispatch]);var handleClick=function handleClick(){setActive(!active);};var baseStyle={color:active?'black':'rgb(126, 190, 157)'};var baseStyle2={color:active?'rgb(126, 190, 157)':'black'};var wrapperFunction=function wrapperFunction(){handleClick();getMoviesState(false);};var wrapperFunction2=function wrapperFunction2(){handleClick();getMoviesState(true);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"rowHeader\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"timeContainer\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"title\",children:\" New Movies\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"toggle\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"todayButton\",onClick:wrapperFunction,style:_objectSpread({backgroundColor:active?\"white\":\"rgb(3, 37, 65)\"},baseStyle),children:\"Today\"}),/*#__PURE__*/_jsx(\"button\",{className:\"weekButton\",onClick:wrapperFunction2,style:_objectSpread({backgroundColor:active?\"rgb(\t3, 37, 65)\":\"white\"},baseStyle2),children:\"This week\"})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"mainDiv\",children:movies.map(function(item){return/*#__PURE__*/_jsxs(\"div\",{className:\"postContainer\",children:[/*#__PURE__*/_jsx(Link,{to:\"/details/\".concat(item.id),children:/*#__PURE__*/_jsx(\"img\",{className:\"posterImage\",src:\"http://image.tmdb.org/t/p/w500/\".concat(item.poster_path),alt:item.title})}),/*#__PURE__*/_jsxs(\"div\",{className:\"movieDescreption\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"movieTitle\",children:item.title}),/*#__PURE__*/_jsx(\"p\",{className:\"pubDate\",children:item.release_date})]})]},item.id);})})]});}","map":{"version":3,"names":["useEffect","useState","useDispatch","useSelector","Link","setMovies","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Movies","movies","state","allMovies","dispatch","_useState","_useState2","_slicedToArray","active","setActive","getMoviesState","fromWeek","selectedProps","console","log","requestOptions","method","redirect","fetch","concat","then","response","json","data","results","catch","error","handleClick","baseStyle","color","baseStyle2","wrapperFunction","wrapperFunction2","children","className","onClick","style","_objectSpread","backgroundColor","map","item","to","id","src","poster_path","alt","title","release_date"],"sources":["/Users/zainabanidomi/Desktop/React-Task/src/Components/Movies.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport {setMovies} from '../redux/actions/moviesActions';\n\nexport function Movies() {\n    const movies = useSelector((state) => state.allMovies.movies);\n    const dispatch = useDispatch();\n    const [active, setActive] = useState(false);\n    \n\n    const getMoviesState = (fromWeek) =>{\n        \n        var selectedProps = fromWeek === true?'week':'day'\n        console.log(selectedProps);\n        var requestOptions = {\n            method: 'GET',\n            redirect: 'follow'\n          };\n          \n          fetch(`https://api.themoviedb.org/3/trending/movie/${selectedProps}?api_key=a971131533ecd1f4d0cb562ab92a94ef`, requestOptions)\n            .then(response => response.json())\n            .then(data => {dispatch(setMovies(data.results))},)\n            .catch(error => console.log('error', error));\n\n    }\n  \n    useEffect(() => {\n        getMoviesState(active);\n         console.log(active);\n\n    }, [dispatch])\n\n    \n    const handleClick = () => {\n        setActive(! active);\n    };\n\n    let baseStyle={\n        color:active ? 'black' :  'rgb(126, 190, 157)',\n    }\n\n    let baseStyle2 = {\n                color:active ? 'rgb(126, 190, 157)': 'black',\n\n    }\n\n\n    const wrapperFunction = () => {\n        handleClick();\n        getMoviesState(false);\n        \n    }\n\n    const wrapperFunction2 = () => {\n        handleClick();\n        getMoviesState(true);\n        \n    }\n\n    return (\n        <>\n           <div className=\"rowHeader\">\n            <div className=\"timeContainer\">\n                <div className='title'> New Movies</div>\n                <div className=\"toggle\">\n                    <button className=\"todayButton\" onClick={wrapperFunction} style={{ backgroundColor: active ? \"white\" : \"rgb(3, 37, 65)\" , ...baseStyle}}>Today</button>\n                    <button className=\"weekButton\" onClick={wrapperFunction2} style={{ backgroundColor: active ? \"rgb(\t3, 37, 65)\" : \"white\" ,...baseStyle2}}>This week</button>\n                </div>\n            </div>\n        </div>\n            <div className=\"mainDiv\">\n                {movies.map(item =>\n                    <div className=\"postContainer\" key={item.id}>\n                        <Link to={`/details/${item.id}`}>\n                            <img className=\"posterImage\" src={`http://image.tmdb.org/t/p/w500/${item.poster_path}`} alt={item.title} />\n                        </Link>\n\n                        <div className=\"movieDescreption\">\n                            <h4 className=\"movieTitle\">{item.title}</h4>\n                            <p className=\"pubDate\">{item.release_date}</p>\n                            {/* <button className=\"addToWatchList\" onClick={() => {\n                                navigate('watchList');\n                            }} >Add to watch list</button> */}\n\n                        </div>\n                    </div>\n\n                )}\n            </div>\n        </>\n\n    );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}